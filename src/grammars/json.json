{"grammar":{"rules":[{"name":"json$subexpression$1","symbols":["object"]},{"name":"json$subexpression$1","symbols":["array"]},{"name":"json","symbols":["_","json$subexpression$1","_"],"postprocess":" function({data}) { return data[1][0]; } "},{"name":"object","symbols":[{"literal":"{"},"_",{"literal":"}"}],"postprocess":" function(d) { return {}; } "},{"name":"object$ebnf$1","symbols":[]},{"name":"object$ebnf$1$subexpression$1","symbols":["_",{"literal":","},"_","pair"]},{"name":"object$ebnf$1","symbols":["object$ebnf$1","object$ebnf$1$subexpression$1"],"postprocess":{"builtin":"arrpush"}},{"name":"object","symbols":[{"literal":"{"},"_","pair","object$ebnf$1","_",{"literal":"}"}],"postprocess":" extractObject "},{"name":"array","symbols":[{"literal":"["},"_",{"literal":"]"}],"postprocess":" function(d) { return []; } "},{"name":"array$ebnf$1","symbols":[]},{"name":"array$ebnf$1$subexpression$1","symbols":["_",{"literal":","},"_","value"]},{"name":"array$ebnf$1","symbols":["array$ebnf$1","array$ebnf$1$subexpression$1"],"postprocess":{"builtin":"arrpush"}},{"name":"array","symbols":[{"literal":"["},"_","value","array$ebnf$1","_",{"literal":"]"}],"postprocess":" extractArray "},{"name":"value","symbols":["object"],"postprocess":" id "},{"name":"value","symbols":["array"],"postprocess":" id "},{"name":"value","symbols":["number"],"postprocess":" id "},{"name":"value","symbols":["string"],"postprocess":" id "},{"name":"value","symbols":[{"literal":"true"}],"postprocess":" function(d) { return true; } "},{"name":"value","symbols":[{"literal":"false"}],"postprocess":" function(d) { return false; } "},{"name":"value","symbols":[{"literal":"null"}],"postprocess":" function(d) { return null; } "},{"name":"number","symbols":[{"token":"(lexer.has(\"number\") ? {type: \"number\"} : number)"}],"postprocess":" function({data}) { return parseFloat(data[0].value) } "},{"name":"string","symbols":[{"token":"(lexer.has(\"string\") ? {type: \"string\"} : string)"}],"postprocess":" function({data}) { return JSON.parse(data[0].value) } "},{"name":"pair","symbols":["key","_",{"literal":":"},"_","value"],"postprocess":" function({data}) { return [data[0], data[4]]; } "},{"name":"key","symbols":["string"],"postprocess":" id "},{"name":"_","symbols":[]},{"name":"_","symbols":[{"token":"(lexer.has(\"space\") ? {type: \"space\"} : space)"}],"postprocess":" function(d) { return null; } "}],"head":[],"body":["\n\nconst moo = require('moo')\n\nlet lexer = moo.compile({\n    space: {match: /\\s+/, lineBreaks: true},\n    number: /-?(?:[0-9]|[1-9][0-9]+)(?:\\.[0-9]+)?(?:[eE][-+]?[0-9]+)?\\b/,\n    string: /\"(?:\\\\[\"bfnrt\\/\\\\]|\\\\u[a-fA-F0-9]{4}|[^\"\\\\])*\"/,\n    '{': '{',\n    '}': '}',\n    '[': '[',\n    ']': ']',\n    ',': ',',\n    ':': ':',\n    true: 'true',\n    false: 'false',\n    null: 'null',\n})\n\n","\n\nfunction extractPair(kv, output) {\n    if(kv[0]) { output[kv[0]] = kv[1]; }\n}\n\nfunction extractObject({data}) {\n    let output = {};\n\n    extractPair(data[2], output);\n\n    for (let i in data[3]) {\n        extractPair(data[3][i][3], output);\n    }\n\n    return output;\n}\n\nfunction extractArray({data}) {\n    let output = [data[2]];\n\n    for (let i in data[3]) {\n        output.push(data[3][i][3]);\n    }\n\n    return output;\n}\n\n"],"customTokens":["number","string","space"],"config":{"lexer":"lexer"},"macros":{},"start":"json","version":"unknown"},"exportName":"grammar"}